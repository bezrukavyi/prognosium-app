%form#new-task-form.todo-form(name='taskForm'
  md-whiteframe='4'
  ng-submit='ctrl.create(taskForm, project)'
  layout='row')

  %md-input-container.md-block.title-container
    %textarea(data_enter_event=''
      aria-label='Title'
      md-maxlength='100'
      md-no-asterisk=''
      name='title'
      ng_model='ctrl.new.title'
      required='')

    %div.validators(ng_messages='taskForm.title.$error')
      %div(ng_message='required') {{ 'validation.required' | translate }}
      %div(ng_message='md-maxlength') {{ 'validation.max_length' | translate:{value: 100} }}

  %md-button.md-raised.md-primary(layout='row'
    aria-label='create task'
    ngf-change='taskForm.$setSubmitted(); ctrl.create(taskForm, project, $file)'
    ngf-select='')
    {{ 'task.new' | translate }}

    %input.hidden(name='file' type='file'
      ngf-change='taskForm.$setSubmitted(); ctrl.create(taskForm, project, $file)'
      ngf-select='')

  %md-button.md-icon-button.md-button.md-ink-ripple.md-primary.md-24(hide-gt-xs='' type='submit')
    %md-icon add
