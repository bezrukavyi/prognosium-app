.forecast-form-container(layout='row' layout-align='space-between center')
  %form#forecast-form.forecast-form(name='forecastForm'
    ng-submit='ctrl.update(forecastForm, forecast)')

    %md-whiteframe.md-whiteframe-z1(layout='column' layout_align='center stretch' layout-padding='')

      %md-content(flex='')
        %md-input-container.md-block
          %label {{ 'forecast.types' | translate }}
          %md-select.types-select(required='' ng-model='forecast.analysis_type')
            %md-option.type-option(id="select-{{key}}" ng-repeat="(key, type) in forecast.support_types" ng-value='key') {{ type }}

        %md-input-container.md-block
          %label {{ 'forecast.period' | translate }}
          %input(required='' ng_model='forecast.period' name='period' min='1' type='number')
          %div.validators(ng_messages='forecastForm.period.$error')
            %div(ng_message='required') {{ 'validation.required' | translate }}

        .forecast-patameters(layout='row' layout_align='space-between center')
          %md-input-container.md-block
            %label {{ 'forecast.alpha' | translate }}
            %input(required='' ng_model='forecast.alpha' name='alpha' min='0' max='1' type='number' step='0.1')
            %div.validators(ng_messages='forecastForm.period.$error')
              %div(ng_message='required') {{ 'validation.required' | translate }}

          %md-input-container.md-block
            %label {{ 'forecast.beta' | translate }}
            %input(ng_model='forecast.beta' name='beta' min='0' max='1' type='number' step='0.1')

      .form-actions(layout='column')
        %md-button.md-raised.md-24(aria-label='upload forecast'
          ngf-change='forecastForm.$setSubmitted(); ctrl.upload(forecastForm, forecast, $file)'
          ngf-select='')
          %md-icon file_upload
          {{ 'forecast.upload' | translate }}

          %input.hidden(name='file' type='file'
            ngf-change='forecastForm.$setSubmitted(); ctrl.upload(forecastForm, forecast, $file)'
            ngf-select='')

        %md-button#update-forecast.md-raised.md-primary.md-24(aria-label='update forecast' type='submit')
          %md-icon replay
          {{ 'forecast.update' | translate }}


  %forecasts_chart(flex='' ctrl='ctrl' forecast='forecast')
